<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Transaction</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Transaction";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bluegosling/concurrent/atoms/ThreadLocalAtom.html" title="class in com.bluegosling.concurrent.atoms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bluegosling/concurrent/atoms/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bluegosling.concurrent.atoms</div>
<h2 title="Class Transaction" class="title">Class Transaction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.bluegosling.concurrent.atoms.Transaction</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Transaction</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A transaction in which changes to <a href="../../../../com/bluegosling/concurrent/atoms/TransactionalAtom.html" title="class in com.bluegosling.concurrent.atoms"><code>TransactionalAtom</code></a>s can be made. Transactions use
 multi-version concurrency control to provide a level of isolation between concurrently executing
 transactions. The isolation level is configurable at the time of creating a new transaction.
 
 <p>Once a transaction has begun, it can be check-pointed or rolled back, just like transactions
 in an RDBMS. If a given block that is executed in a transaction completes successfully, then the
 changes made in the transaction are committed. Otherwise, all changes are rolled back and the
 exception that was thrown from the block is propagated.
 
 <p><a href="../../../../com/bluegosling/concurrent/atoms/AsynchronousAtom.html" title="class in com.bluegosling.concurrent.atoms"><code>AsynchronousAtom</code></a>s also participate in transactions. Changes that are queued for an
 <a href="../../../../com/bluegosling/concurrent/atoms/AsynchronousAtom.html" title="class in com.bluegosling.concurrent.atoms"><code>AsynchronousAtom</code></a> are only submitted for execution when the transaction commits. Any
 pending operations that are effected by a rollback will be cancelled.
 
 <p>A transaction is executed by creating a <a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Runner.html" title="class in com.bluegosling.concurrent.atoms"><code>Transaction.Runner</code></a>, which allows for customizing the
 settings of the transaction before execution. Or, if default settings are acceptable, several
 static methods are provided as shorthand. There are methods for transactions whose logic is
 idempotent (which can be retried) and for those that are non-idempotent. The methods each come in
 two flavors: one for executing tasks that do not produce a value, and another for executing a
 computation that does produce a value.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#execute-com.bluegosling.concurrent.atoms.Transaction.Task-"><code>execute(Task)</code></a>, 
<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#executeNonIdempotent-com.bluegosling.concurrent.atoms.Transaction.Task-"><code>executeNonIdempotent(Task)</code></a>, 
<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#compute-com.bluegosling.concurrent.atoms.Transaction.Computation-"><code>compute(Computation)</code></a>, 
<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#computeNonIdempotent-com.bluegosling.concurrent.atoms.Transaction.Computation-"><code>computeNonIdempotent(Computation)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Computation</a>&lt;<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="type parameter in Transaction.Computation">T</a>,<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="type parameter in Transaction.Computation">X</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;</span></code>
<div class="block">A computation that produces a value and executes in (or with) a transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.IsolationLevel.html" title="enum in com.bluegosling.concurrent.atoms">Transaction.IsolationLevel</a></span></code>
<div class="block">The isolation level of a transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Runner.html" title="class in com.bluegosling.concurrent.atoms">Transaction.Runner</a></span></code>
<div class="block">An object that can initiate execution of code in a transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Savepoint.html" title="class in com.bluegosling.concurrent.atoms">Transaction.Savepoint</a></span></code>
<div class="block">Represents a checkpoint in the transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Task.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Task</a>&lt;<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Task.html" title="type parameter in Transaction.Task">X</a> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;</span></code>
<div class="block">A task that executes in (or with) a transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.UncheckedComputation.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.UncheckedComputation</a>&lt;<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.UncheckedComputation.html" title="type parameter in Transaction.UncheckedComputation">T</a>&gt;</span></code>
<div class="block">A computation that produces a value, executes in a transaction, and does not throw any checked
 exceptions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.UncheckedTask.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.UncheckedTask</a></span></code>
<div class="block">A task to execute in a transaction that does not throw any checked exceptions.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T,X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#compute-com.bluegosling.concurrent.atoms.Transaction.Computation-">compute</a></span>(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Computation</a>&lt;T,X&gt;&nbsp;computation)</code>
<div class="block">Runs the specified computation in a transaction and returns the result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T,X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#computeNonIdempotent-com.bluegosling.concurrent.atoms.Transaction.Computation-">computeNonIdempotent</a></span>(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Computation</a>&lt;T,X&gt;&nbsp;computation)</code>
<div class="block">Runs the specified computation in a transaction and returns the result.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;<br>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#execute-com.bluegosling.concurrent.atoms.Transaction.Task-">execute</a></span>(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Task.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Task</a>&lt;X&gt;&nbsp;task)</code>
<div class="block">Runs the specified task in a transaction.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;<br>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#executeNonIdempotent-com.bluegosling.concurrent.atoms.Transaction.Task-">executeNonIdempotent</a></span>(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Task.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Task</a>&lt;X&gt;&nbsp;task)</code>
<div class="block">Runs the specified task in a transaction.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#isInTransaction--">isInTransaction</a></span>()</code>
<div class="block">Determines whether a transaction is in progress on the current thread.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#rollback--">rollback</a></span>()</code>
<div class="block">Rolls back the current transaction.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#rollbackTo-com.bluegosling.concurrent.atoms.Transaction.Savepoint-">rollbackTo</a></span>(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Savepoint.html" title="class in com.bluegosling.concurrent.atoms">Transaction.Savepoint</a>&nbsp;point)</code>
<div class="block">Performs a partial roll back.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Savepoint.html" title="class in com.bluegosling.concurrent.atoms">Transaction.Savepoint</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#savepoint--">savepoint</a></span>()</code>
<div class="block">Creates a checkpoint in the transaction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="compute-com.bluegosling.concurrent.atoms.Transaction.Computation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre>public static&nbsp;&lt;T,X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;&nbsp;T&nbsp;compute(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Computation</a>&lt;T,X&gt;&nbsp;computation)
                                         throws X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Runs the specified computation in a transaction and returns the result. This uses default
 settings for the transaction and is equivalent to the following:<pre>
 new Transaction.Runner().compute(computation);
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>computation</code> - the computation to perform in a transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the computation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if a transaction is already in progress on the current thread</dd>
<dd><code>X</code> - a type of exception thrown by the computation</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/atoms/TransactionIsolationException.html" title="class in com.bluegosling.concurrent.atoms">TransactionIsolationException</a></code> - if there is too much contention over the atoms such that
       the computation cannot be performed with the proper isolation level</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/DeadlockException.html" title="class in com.bluegosling.concurrent">DeadlockException</a></code> - if this computation generated deadlock exceptions when accessing and
       modifying atoms</dd>
<dd><code>X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="execute-com.bluegosling.concurrent.atoms.Transaction.Task-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre>public static&nbsp;&lt;X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;&nbsp;void&nbsp;execute(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Task.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Task</a>&lt;X&gt;&nbsp;task)
                                          throws X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Runs the specified task in a transaction. This uses default settings for the transaction and
 is equivalent to the following:<pre>
 new Transaction.Runner().execute(task);
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>task</code> - the task to perform in a transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if a transaction is already in progress on the current thread</dd>
<dd><code>X</code> - a type of exception thrown by the task</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/atoms/TransactionIsolationException.html" title="class in com.bluegosling.concurrent.atoms">TransactionIsolationException</a></code> - if there is too much contention over the atoms such that
       the task cannot be performed with the proper isolation level</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/DeadlockException.html" title="class in com.bluegosling.concurrent">DeadlockException</a></code> - if this task generated deadlock exceptions when accessing and
       modifying atoms</dd>
<dd><code>X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="computeNonIdempotent-com.bluegosling.concurrent.atoms.Transaction.Computation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeNonIdempotent</h4>
<pre>public static&nbsp;&lt;T,X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;&nbsp;T&nbsp;computeNonIdempotent(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Computation</a>&lt;T,X&gt;&nbsp;computation)
                                                      throws X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Runs the specified computation in a transaction and returns the result. This uses default
 settings for the transaction and is equivalent to the following:<pre>
 new Transaction.Runner().computeNonIdempotent(computation);
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>computation</code> - the computation to perform in a transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the computation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if a transaction is already in progress on the current thread</dd>
<dd><code>X</code> - a type of exception thrown by the computation</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/atoms/TransactionIsolationException.html" title="class in com.bluegosling.concurrent.atoms">TransactionIsolationException</a></code> - if there is contention over the atoms that prevent the
       computation from running with the proper isolation level</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/DeadlockException.html" title="class in com.bluegosling.concurrent">DeadlockException</a></code> - if this computation generated a deadlock exception when accessing
       and modifying atoms</dd>
<dd><code>X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="executeNonIdempotent-com.bluegosling.concurrent.atoms.Transaction.Task-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeNonIdempotent</h4>
<pre>public static&nbsp;&lt;X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;&nbsp;void&nbsp;executeNonIdempotent(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Task.html" title="interface in com.bluegosling.concurrent.atoms">Transaction.Task</a>&lt;X&gt;&nbsp;task)
                                                       throws X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Runs the specified task in a transaction. This uses default settings for the transaction and
 is equivalent to the following:<pre>
 new Transaction.Runner().executeNonIdempotent(task);
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>task</code> - the task to perform in a transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if a transaction is already in progress on the current thread</dd>
<dd><code>X</code> - a type of exception thrown by the task</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/atoms/TransactionIsolationException.html" title="class in com.bluegosling.concurrent.atoms">TransactionIsolationException</a></code> - if there is contention over the atoms that prevent the
       task from running with the proper isolation level</dd>
<dd><code><a href="../../../../com/bluegosling/concurrent/DeadlockException.html" title="class in com.bluegosling.concurrent">DeadlockException</a></code> - if this task generated a deadlock exception when accessing and
       modifying atoms</dd>
<dd><code>X extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="isInTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInTransaction</h4>
<pre>public static&nbsp;boolean&nbsp;isInTransaction()</pre>
<div class="block">Determines whether a transaction is in progress on the current thread.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a transaction is in progress on the current thread</dd>
</dl>
</li>
</ul>
<a name="rollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback()</pre>
<div class="block">Rolls back the current transaction. This resets all mutations made. All futures associated
 with <a href="../../../../com/bluegosling/concurrent/atoms/TransactionalAtom.html#commute-java.util.function.Function-">commute</a> operations and asynchronous actions that have been performed in this transaction are
 cancelled.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this transaction is not running on the current thread</dd>
</dl>
</li>
</ul>
<a name="savepoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savepoint</h4>
<pre>public&nbsp;<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Savepoint.html" title="class in com.bluegosling.concurrent.atoms">Transaction.Savepoint</a>&nbsp;savepoint()</pre>
<div class="block">Creates a checkpoint in the transaction. After such a checkpoint is established, the
 transaction can be partially rolled back such that changes made <em>after</em> the savepoint
 are rolled back, but changes made prior to the savepoint are retained.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new savepoint</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this transaction is not running on the current thread</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.html#rollbackTo-com.bluegosling.concurrent.atoms.Transaction.Savepoint-"><code>rollbackTo(Savepoint)</code></a></dd>
</dl>
</li>
</ul>
<a name="rollbackTo-com.bluegosling.concurrent.atoms.Transaction.Savepoint-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rollbackTo</h4>
<pre>public&nbsp;void&nbsp;rollbackTo(<a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Savepoint.html" title="class in com.bluegosling.concurrent.atoms">Transaction.Savepoint</a>&nbsp;point)</pre>
<div class="block">Performs a partial roll back. All mutations made since the specified savepoint was established
 are reset. Similarly, all futures for <a href="../../../../com/bluegosling/concurrent/atoms/TransactionalAtom.html#commute-java.util.function.Function-">commute</a>
 operations and asynchronous actions are cancelled. Changes made
 prior to the savepoint being established are retained.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>point</code> - the savepoint up to which point the transaction is reversed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this transaction is not running on the current thread</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified savepoint is null</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the specified savepoint is not valid, due to either being
       created by a different transaction or already having been rolled back</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bluegosling/concurrent/atoms/ThreadLocalAtom.html" title="class in com.bluegosling.concurrent.atoms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/bluegosling/concurrent/atoms/Transaction.Computation.html" title="interface in com.bluegosling.concurrent.atoms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bluegosling/concurrent/atoms/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
