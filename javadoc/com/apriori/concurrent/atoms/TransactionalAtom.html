<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>TransactionalAtom</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionalAtom";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/apriori/concurrent/atoms/Transaction.UncheckedTask.html" title="interface in com.apriori.concurrent.atoms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/apriori/concurrent/atoms/TransactionIsolationException.html" title="class in com.apriori.concurrent.atoms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/apriori/concurrent/atoms/TransactionalAtom.html" target="_top">Frames</a></li>
<li><a href="TransactionalAtom.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.apriori.concurrent.atoms</div>
<h2 title="Class TransactionalAtom" class="title">Class TransactionalAtom&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.apriori.concurrent.atoms.TransactionalAtom&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/apriori/concurrent/atoms/Atom.html" title="interface in com.apriori.concurrent.atoms">Atom</a>&lt;T&gt;, <a href="../../../../com/apriori/concurrent/atoms/SynchronousAtom.html" title="interface in com.apriori.concurrent.atoms">SynchronousAtom</a>&lt;T&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">TransactionalAtom&lt;T&gt;</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/apriori/concurrent/atoms/SynchronousAtom.html" title="interface in com.apriori.concurrent.atoms">SynchronousAtom</a>&lt;T&gt;</pre>
<div class="block">An atom whose updates are coordinated in a <a href="../../../../com/apriori/concurrent/atoms/Transaction.html" title="class in com.apriori.concurrent.atoms"><code>Transaction</code></a>. Transactions allow updates to
 multiple atoms to be done atomically.
 
 <p>When a transaction is committed, <a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="interface in com.apriori.concurrent.atoms">watchers</a> are only notified of the
 new final value. If the transaction modified a single atom multiple times, watchers will not see
 the intermediate values.
 
 <p>When a transaction is rolled back, all futures corresponding to rolled back commute operations
 are cancelled.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.apriori.concurrent.atoms.Atom">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.apriori.concurrent.atoms.<a href="../../../../com/apriori/concurrent/atoms/Atom.html" title="interface in com.apriori.concurrent.atoms">Atom</a></h3>
<code><a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="interface in com.apriori.concurrent.atoms">Atom.Watcher</a>&lt;<a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="type parameter in Atom.Watcher">T</a>&gt;</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#TransactionalAtom--">TransactionalAtom</a></span>()</code>
<div class="block">Constructs a new atom with a <code>null</code> value and no validator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#TransactionalAtom-T-">TransactionalAtom</a></span>(<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;value)</code>
<div class="block">Constructs a new atom with the specified value and no validator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#TransactionalAtom-T-java.util.function.Predicate-">TransactionalAtom</a></span>(<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;value,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;? super <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;validator)</code>
<div class="block">Constructs a new atom with the specified value and the specified validator.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#addWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">addWatcher</a></span>(<a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="interface in com.apriori.concurrent.atoms">Atom.Watcher</a>&lt;? super T&gt;&nbsp;watcher)</code>
<div class="block">Registers a watcher, which will receive notifications when the atom's value changes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#apply-java.util.function.Function-">apply</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;? super <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>,? extends <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;function)</code>
<div class="block">Applies a function to the atom's value.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/apriori/concurrent/ListenableFuture.html" title="interface in com.apriori.concurrent">ListenableFuture</a>&lt;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#commute-java.util.function.Function-">commute</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;? super <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>,? extends <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;function)</code>
<div class="block">Enqueues a commutative transform operation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#get--">get</a></span>()</code>
<div class="block">Retrieves the current value for this atom.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;? super T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#getValidator--">getValidator</a></span>()</code>
<div class="block">Return the atom's validator, or <code>null</code> if there is no validator.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;U&gt;&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="class in com.apriori.concurrent.atoms">TransactionalAtom</a>&lt;U&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#newComponent--">newComponent</a></span>()</code>
<div class="block">Creates a new component atom with a <code>null</code> initial value and no validator.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;U&gt;&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="class in com.apriori.concurrent.atoms">TransactionalAtom</a>&lt;U&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#newComponent-U-">newComponent</a></span>(U&nbsp;value)</code>
<div class="block">Creates a new atom with the specified initial value and no validator.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;U&gt;&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="class in com.apriori.concurrent.atoms">TransactionalAtom</a>&lt;U&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#newComponent-U-java.util.function.Predicate-">newComponent</a></span>(U&nbsp;value,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;? super U&gt;&nbsp;validator)</code>
<div class="block">Creates a new atom with the specified initial value and the specified validator.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#notify-T-T-">notify</a></span>(T&nbsp;oldValue,
      T&nbsp;newValue)</code>
<div class="block">Notifies the atom's watchers that the value has changed.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#pin--">pin</a></span>()</code>
<div class="block">Pins an atom so that no concurrent transaction can modify it.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#removeWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">removeWatcher</a></span>(<a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="interface in com.apriori.concurrent.atoms">Atom.Watcher</a>&lt;? super T&gt;&nbsp;watcher)</code>
<div class="block">Unregisters a watcher.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#set-T-">set</a></span>(<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;newValue)</code>
<div class="block">Updates the atom's value to the one specified.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#validate-T-">validate</a></span>(T&nbsp;value)</code>
<div class="block">Validates the specified value.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.apriori.concurrent.atoms.Atom">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.apriori.concurrent.atoms.<a href="../../../../com/apriori/concurrent/atoms/Atom.html" title="interface in com.apriori.concurrent.atoms">Atom</a></h3>
<code><a href="../../../../com/apriori/concurrent/atoms/Atom.html#addWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">addWatcher</a>, <a href="../../../../com/apriori/concurrent/atoms/Atom.html#removeWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">removeWatcher</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransactionalAtom--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TransactionalAtom</h4>
<pre>public&nbsp;TransactionalAtom()</pre>
<div class="block">Constructs a new atom with a <code>null</code> value and no validator.</div>
</li>
</ul>
<a name="TransactionalAtom-java.lang.Object-">
<!--   -->
</a><a name="TransactionalAtom-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TransactionalAtom</h4>
<pre>public&nbsp;TransactionalAtom(<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;value)</pre>
<div class="block">Constructs a new atom with the specified value and no validator.</div>
</li>
</ul>
<a name="TransactionalAtom-java.lang.Object-java.util.function.Predicate-">
<!--   -->
</a><a name="TransactionalAtom-T-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransactionalAtom</h4>
<pre>public&nbsp;TransactionalAtom(<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;value,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;? super <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;validator)</pre>
<div class="block">Constructs a new atom with the specified value and the specified validator.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newComponent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newComponent</h4>
<pre>public&nbsp;&lt;U&gt;&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="class in com.apriori.concurrent.atoms">TransactionalAtom</a>&lt;U&gt;&nbsp;newComponent()</pre>
<div class="block">Creates a new component atom with a <code>null</code> initial value and no validator. Accessing the
 component requires shared access to this atom. For example, a transaction cannot modify this
 atom (which requires acquiring an exclusive lock) while transactions are outstanding that
 affect any of this atom's components (or their components, i.e. descendants).
 
 <p>More precisely, the component is protected by a lock that is a child of this atom's lock
 (see <a href="../../../../com/apriori/concurrent/HierarchicalLock.html" title="class in com.apriori.concurrent"><code>HierarchicalLock</code></a>).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new atom that is a component of this atom</dd>
</dl>
</li>
</ul>
<a name="newComponent-java.lang.Object-">
<!--   -->
</a><a name="newComponent-U-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newComponent</h4>
<pre>public&nbsp;&lt;U&gt;&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="class in com.apriori.concurrent.atoms">TransactionalAtom</a>&lt;U&gt;&nbsp;newComponent(U&nbsp;value)</pre>
<div class="block">Creates a new atom with the specified initial value and no validator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new atom that is a component of this atom</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#newComponent--"><code>newComponent()</code></a></dd>
</dl>
</li>
</ul>
<a name="newComponent-java.lang.Object-java.util.function.Predicate-">
<!--   -->
</a><a name="newComponent-U-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newComponent</h4>
<pre>public&nbsp;&lt;U&gt;&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="class in com.apriori.concurrent.atoms">TransactionalAtom</a>&lt;U&gt;&nbsp;newComponent(U&nbsp;value,
                                             <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;? super U&gt;&nbsp;validator)</pre>
<div class="block">Creates a new atom with the specified initial value and the specified validator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new atom that is a component of this atom</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#newComponent--"><code>newComponent()</code></a></dd>
</dl>
</li>
</ul>
<a name="get--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;get()</pre>
<div class="block">Retrieves the current value for this atom.
 
 <p>When called outside of a transaction, this returns the most recently committed value for
 the atom. When called inside of a transaction, this may reflect updates to the atom that have
 not yet been committed. Unless the transaction is using a "read committed" isolation level,
 getting the atom's value in the transaction is repeatable, regardless of concurrent
 modifications being made by other transactions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/Atom.html#get--">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/Atom.html" title="interface in com.apriori.concurrent.atoms">Atom</a>&lt;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current value for the atom</dd>
</dl>
</li>
</ul>
<a name="pin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pin</h4>
<pre>public&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;pin()</pre>
<div class="block">Pins an atom so that no concurrent transaction can modify it. This can be used in
 non-serializable isolation levels to prevent write skew that could otherwise occur. Pinning
 is achieved by acquiring a shared lock on the atom.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of the atom in the current transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if no transaction is in progress on the current thread</dd>
<dd><code><a href="../../../../com/apriori/concurrent/DeadlockException.html" title="class in com.apriori.concurrent">DeadlockException</a></code> - if a deadlock is detected when trying to acquire a lock for the atom</dd>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/TransactionIsolationException.html" title="class in com.apriori.concurrent.atoms">TransactionIsolationException</a></code> - if a concurrent transaction has already updated the atom
       since the current transaction's version was established</dd>
</dl>
</li>
</ul>
<a name="apply-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre>public&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;apply(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;? super <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>,? extends <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;function)</pre>
<div class="block">Applies a function to the atom's value. The atom's new value is the result of applying the
 specified function to the atom's current value. Watchers are notified when the value is
 changed.
 
 <p>If no transaction is in progress on the current thread, this will effectively create one
 that does nothing but transform this atom. If one is in progress, the transaction will acquire
 an exclusive lock on the atom to prevent concurrent writers and will hold the lock until it is
 rolled back or committed.
 
 <p>Watchers are only notified when this operation is committed. If there are other operations
 on this same atom, watchers will only be notified once with the value of this atom before the
 transaction began and its final value upon the transaction being committed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/SynchronousAtom.html#apply-java.util.function.Function-">apply</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/SynchronousAtom.html" title="interface in com.apriori.concurrent.atoms">SynchronousAtom</a>&lt;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - the function to apply</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the atom's new value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/DeadlockException.html" title="class in com.apriori.concurrent">DeadlockException</a></code> - if a deadlock is detected when trying to acquire a lock for the atom</dd>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/TransactionIsolationException.html" title="class in com.apriori.concurrent.atoms">TransactionIsolationException</a></code> - if a transaction is in progress, and a concurrent
       transaction has updated the atom since the current transaction's version was established</dd>
</dl>
</li>
</ul>
<a name="commute-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commute</h4>
<pre>public&nbsp;<a href="../../../../com/apriori/concurrent/ListenableFuture.html" title="interface in com.apriori.concurrent">ListenableFuture</a>&lt;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;commute(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function">Function</a>&lt;? super <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>,? extends <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;&nbsp;function)</pre>
<div class="block">Enqueues a commutative transform operation. This differs from <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#apply-java.util.function.Function-"><code>apply(Function)</code></a> in that
 commutes do not eagerly acquire an exclusive lock on the atom. This allows for concurrent
 transactions to also be modifying the same atom. But since the function must be commutative,
 the order of applying functions does not matter. Using this method can lead to greater
 throughput than using <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#apply-java.util.function.Function-"><code>apply(Function)</code></a> but is more restrictive since the applied
 operation must be commutative.
 
 <p>Note that if other operations are performed on this atom (like <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#set-T-"><code>set(T)</code></a> or
 <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#apply-java.util.function.Function-"><code>apply(java.util.function.Function&lt;? super T, ? extends T&gt;)</code></a>), commutes are always applied <strong>last</strong>, regardless of whether the
 commute was enqueued after the other operations were performed or not.
 
 <p>If no transaction is in progress on the current thread, this will effectively create one
 that does nothing but transform this atom. If a serializable transaction is in progress, then
 an exclusive lock is acquired. So, with serializable isolation level, the only difference
 between this operation and <a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html#apply-java.util.function.Function-"><code>apply(Function)</code></a> is that the commute functions won't
 actually be evaluated until the transaction is committed.
 
 <p>Watchers are only notified when this operation is committed. If there are other operations
 on this same atom, watchers will only be notified once with the value of this atom before the
 transaction began and its final value upon the transaction being committed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - a commutative function to apply to transform the atom's value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a future that will complete with the result of the commute operation when the
       transaction is committed or will be cancelled if this operation is rolled back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/DeadlockException.html" title="class in com.apriori.concurrent">DeadlockException</a></code> - if a deadlock is detected when trying to acquire a lock for the atom
       (only when a transaction is in progress with serializable isolation)</dd>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/TransactionIsolationException.html" title="class in com.apriori.concurrent.atoms">TransactionIsolationException</a></code> - if a transaction is in progress, and a concurrent
       transaction has updated the atom since the current transaction's version was established
       (only when a transaction is in progress with serializable isolation)</dd>
</dl>
</li>
</ul>
<a name="set-java.lang.Object-">
<!--   -->
</a><a name="set-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>set</h4>
<pre>public&nbsp;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;set(<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&nbsp;newValue)</pre>
<div class="block">Updates the atom's value to the one specified. Upon changing the value, watchers will be
 notified.
 
 <p>If no transaction is in progress on the current thread, this will effectively create one
 that does nothing but set this atom's value. If one is in progress, the transaction will
 acquire an exclusive lock on the atom to prevent concurrent writers and will hold the lock
 until it is rolled back or committed.
 
 <p>Watchers are only notified when this operation is committed. If there are other operations
 on this same atom, watchers will only be notified once with the value of this atom before the
 transaction began and its final value upon the transaction being committed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/SynchronousAtom.html#set-T-">set</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/SynchronousAtom.html" title="interface in com.apriori.concurrent.atoms">SynchronousAtom</a>&lt;<a href="../../../../com/apriori/concurrent/atoms/TransactionalAtom.html" title="type parameter in TransactionalAtom">T</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newValue</code> - the atom's new value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the atom's previous value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/DeadlockException.html" title="class in com.apriori.concurrent">DeadlockException</a></code> - if a deadlock is detected when trying to acquire a lock for the atom</dd>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/TransactionIsolationException.html" title="class in com.apriori.concurrent.atoms">TransactionIsolationException</a></code> - if a transaction is in progress, and a concurrent
       transaction has updated the atom since the current transaction's version was established</dd>
</dl>
</li>
</ul>
<a name="validate-java.lang.Object-">
<!--   -->
</a><a name="validate-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>protected&nbsp;void&nbsp;validate(T&nbsp;value)</pre>
<div class="block">Validates the specified value. If this atom has a validator, it will be invoked and an
 exception is thrown if the value is not valid (e.g. the validator predicate returns false).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - the value to validate</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the specified value is invalid</dd>
</dl>
</li>
</ul>
<a name="getValidator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;? super T&gt;&nbsp;getValidator()</pre>
<div class="block">Return the atom's validator, or <code>null</code> if there is no validator. The validator is a
 predicate that returns true when invoked on valid values for the item and false otherwise.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the atom's validator</dd>
</dl>
</li>
</ul>
<a name="notify-java.lang.Object-java.lang.Object-">
<!--   -->
</a><a name="notify-T-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notify</h4>
<pre>protected&nbsp;void&nbsp;notify(T&nbsp;oldValue,
                      T&nbsp;newValue)</pre>
<div class="block">Notifies the atom's watchers that the value has changed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldValue</code> - the atom's old value</dd>
<dd><code>newValue</code> - the atom's new value</dd>
</dl>
</li>
</ul>
<a name="addWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWatcher</h4>
<pre>public&nbsp;boolean&nbsp;addWatcher(<a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="interface in com.apriori.concurrent.atoms">Atom.Watcher</a>&lt;? super T&gt;&nbsp;watcher)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/Atom.html#addWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">Atom</a></code></span></div>
<div class="block">Registers a watcher, which will receive notifications when the atom's value changes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/Atom.html#addWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">addWatcher</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/Atom.html" title="interface in com.apriori.concurrent.atoms">Atom</a>&lt;T&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watcher</code> - the watcher</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the watcher was registered; false if no change occurred because the watcher
       was already registered</dd>
</dl>
</li>
</ul>
<a name="removeWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeWatcher</h4>
<pre>public&nbsp;boolean&nbsp;removeWatcher(<a href="../../../../com/apriori/concurrent/atoms/Atom.Watcher.html" title="interface in com.apriori.concurrent.atoms">Atom.Watcher</a>&lt;? super T&gt;&nbsp;watcher)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/Atom.html#removeWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">Atom</a></code></span></div>
<div class="block">Unregisters a watcher.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/apriori/concurrent/atoms/Atom.html#removeWatcher-com.apriori.concurrent.atoms.Atom.Watcher-">removeWatcher</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/apriori/concurrent/atoms/Atom.html" title="interface in com.apriori.concurrent.atoms">Atom</a>&lt;T&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watcher</code> - the watcher</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the watcher was unregistered; false if no change occurred because the watcher
       was never registered to begin with</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/apriori/concurrent/atoms/Transaction.UncheckedTask.html" title="interface in com.apriori.concurrent.atoms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/apriori/concurrent/atoms/TransactionIsolationException.html" title="class in com.apriori.concurrent.atoms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/apriori/concurrent/atoms/TransactionalAtom.html" target="_top">Frames</a></li>
<li><a href="TransactionalAtom.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
