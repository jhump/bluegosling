<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Locking.StampedLocking</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Locking.StampedLocking";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html" title="interface in com.bluegosling.concurrent.locks"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/bluegosling/concurrent/locks/NonReentrantLock.html" title="class in com.bluegosling.concurrent.locks"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bluegosling/concurrent/locks/Locking.StampedLocking.html" target="_top">Frames</a></li>
<li><a href="Locking.StampedLocking.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.bluegosling.concurrent.locks</div>
<h2 title="Interface Locking.StampedLocking" class="title">Interface Locking.StampedLocking</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html" title="interface in com.bluegosling.concurrent.locks">Locking.ReadWriteLocking</a></dd>
</dl>
<dl>
<dt>Enclosing interface:</dt>
<dd><a href="../../../../com/bluegosling/concurrent/locks/Locking.html" title="interface in com.bluegosling.concurrent.locks">Locking</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="typeNameLabel">Locking.StampedLocking</span>
extends <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html" title="interface in com.bluegosling.concurrent.locks">Locking.ReadWriteLocking</a></pre>
<div class="block">An interface that encapsulates typical patterns for stamped locks. Unlike typical usage of a
 stamp lock, this interface does allow re-entrance. In particular:
 <ul>
 <li>An action running within <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithReadLock-java.lang.Runnable-"><code>Locking.ReadWriteLocking.runWithReadLock(Runnable)</code></a> can recursively invoke
 <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithReadLock-java.lang.Runnable-"><code>Locking.ReadWriteLocking.runWithReadLock(Runnable)</code></a>.</li>
 <li>An action running within <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithWriteLock-java.lang.Runnable-"><code>Locking.ReadWriteLocking.runWithWriteLock(Runnable)</code></a> can recursively invoke
 <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithWriteLock-java.lang.Runnable-"><code>Locking.ReadWriteLocking.runWithWriteLock(Runnable)</code></a>, <em>or</em> it can invoke
 <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithReadLock-java.lang.Runnable-"><code>Locking.ReadWriteLocking.runWithReadLock(Runnable)</code></a>. However, the converse (holding a read lock and then
 invoking an action that needs a write lock) is not allowed.</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/locks/Locking.StampedLocking.html#callWithOptimisticReadLock-java.util.concurrent.Callable-">callWithOptimisticReadLock</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;T&gt;&nbsp;action)</code>
<div class="block">Invokes the given action without acquiring a lock, relying on optimistic concurrency.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/locks/Locking.StampedLocking.html#promoteToWrite--">promoteToWrite</a></span>()</code>
<div class="block">Promotes a held read lock into a write lock.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/bluegosling/concurrent/locks/Locking.StampedLocking.html#runWithOptimisticReadLock-java.lang.Runnable-">runWithOptimisticReadLock</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;action)</code>
<div class="block">Runs the given action without acquiring a lock, relying on optimistic concurrency.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.bluegosling.concurrent.locks.Locking.ReadWriteLocking">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.bluegosling.concurrent.locks.<a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html" title="interface in com.bluegosling.concurrent.locks">Locking.ReadWriteLocking</a></h3>
<code><a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#callWithReadLock-java.util.concurrent.Callable-">callWithReadLock</a>, <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#callWithWriteLock-java.util.concurrent.Callable-">callWithWriteLock</a>, <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#demoteToRead--">demoteToRead</a>, <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#forReadLock--">forReadLock</a>, <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#forWriteLock--">forWriteLock</a>, <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithReadLock-java.lang.Runnable-">runWithReadLock</a>, <a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html#runWithWriteLock-java.lang.Runnable-">runWithWriteLock</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="runWithOptimisticReadLock-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runWithOptimisticReadLock</h4>
<pre>void&nbsp;runWithOptimisticReadLock(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;action)</pre>
<div class="block">Runs the given action without acquiring a lock, relying on optimistic concurrency. If the
 read fails due to interference (due to a thread holding or acquiring the write lock), falls
 back to pessimistic concurrency by acquiring a read lock. Because of this fallback case,
 it is possible that the given action is executed a second time, so it <em>must be
 idempotent</em>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - the action to run</dd>
</dl>
</li>
</ul>
<a name="callWithOptimisticReadLock-java.util.concurrent.Callable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callWithOptimisticReadLock</h4>
<pre>&lt;T&gt;&nbsp;T&nbsp;callWithOptimisticReadLock(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;T&gt;&nbsp;action)
                          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Invokes the given action without acquiring a lock, relying on optimistic concurrency. If
 the read fails due to interference (due to a thread holding or acquiring the write lock),
 falls back to pessimistic concurrency by acquiring a read lock. Because of this fallback
 case, it is possible that the given action is executed a second time, so it <em>must be
 idempotent</em>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>action</code> - the action to run</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value returned by the given action</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if the given action throws an action</dd>
</dl>
</li>
</ul>
<a name="promoteToWrite--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>promoteToWrite</h4>
<pre>boolean&nbsp;promoteToWrite()</pre>
<div class="block">Promotes a held read lock into a write lock. If the read lock cannot be promoted (like due
 to other threads holding read locks), the read lock is released and then a write lock
 acquired. If promotion fails, the write lock is still held when this method returns, but
 other threads may have acquired the write lock and made changes during the period when this
 thread did not hold a lock (e.g. between releasing read lock and acquiring write lock).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the promotion was successful or false if the read lock had to first be
       relinquished and then the write lock acquired</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalMonitorStateException.html?is-external=true" title="class or interface in java.lang">IllegalMonitorStateException</a></code> - if the current thread does not hold a read lock</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/bluegosling/concurrent/locks/Locking.ReadWriteLocking.html" title="interface in com.bluegosling.concurrent.locks"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/bluegosling/concurrent/locks/NonReentrantLock.html" title="class in com.bluegosling.concurrent.locks"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/bluegosling/concurrent/locks/Locking.StampedLocking.html" target="_top">Frames</a></li>
<li><a href="Locking.StampedLocking.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
